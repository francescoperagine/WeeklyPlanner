<div class="container mx-auto p-6">
  <!-- Week Navigation -->
  <div class="flex items-center justify-between mb-6 bg-white p-4 rounded-lg shadow-sm">
    <button (click)="navigateToPreviousWeek()" 
            class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors">
      Previous Week
    </button>
    
    <h2 class="text-xl font-semibold text-center text-gray-800">
      {{ currentWeekStart | date:'MMM d' }} - {{ getDayDate(6) | date:'MMM d, yyyy' }}
    </h2>
    
    <button (click)="navigateToNextWeek()" 
            class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors">
      Next Week
    </button>
    
    <button (click)="navigateToCurrentWeek()" 
            class="px-4 py-2 bg-[#007bff] text-white rounded-md hover:bg-[#0069d9] transition-colors">
      Current Week
    </button>
  </div>

  <!-- Week Grid -->
  <div class="bg-white rounded-lg shadow-sm overflow-x-auto">
    <div class="grid grid-cols-[80px_repeat(7,1fr)] min-w-[800px]">
      <!-- Day Headers -->
      <div class="border-b border-r border-gray-200 p-3 bg-gray-50">
        <div class="font-medium text-gray-500 text-sm">Time</div>
      </div>
      
      <div *ngFor="let day of weekDays; let dayIndex = index" 
           class="border-b border-r border-gray-200 p-3 bg-gray-50">
        <div class="text-center">
          <div class="font-medium text-gray-700">{{ day }}</div>
          <div class="text-sm text-gray-500">{{ getDayDate(dayIndex) | date:'MMM d' }}</div>
        </div>
      </div>

      <!-- Time Slots -->
      <ng-container *ngFor="let timeSlot of timeSlots">
        <div class="border-b border-r border-gray-200 p-2 text-right text-sm text-gray-500">
          {{ timeSlot }}
        </div>
        
        <div *ngFor="let day of weekDays; let dayIndex = index" 
             class="border-b border-r border-gray-200 p-1 min-h-[60px]"
             (click)="createNewItem(dayIndex, timeSlot)">
          <!-- Items at this time slot -->
          <ng-container *ngFor="let item of getItemsForDay(dayIndex)">
            <div *ngIf="timeSlot === (item.startTime | date:'H:mm')"
                 [ngClass]="calculatePriorityClass(item.priority)"
                 class="p-2 rounded-md shadow-sm mb-1 text-sm">
              <div class="font-medium">{{ item.title }}</div>
              <div *ngIf="item.priority" class="text-xs mt-1">Priority: {{ item.priority }}%</div>
              <div *ngIf="item.completed" class="text-xs mt-1 text-[#28a745]">âœ“ Completed</div>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Daily Notes Quick Access -->
  <div class="mt-8 bg-white rounded-lg shadow-sm p-4">
    <div class="text-lg font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2">Daily Notes</div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4">
      <div *ngFor="let day of weekDays; let dayIndex = index" class="mb-4">
        <div class="font-medium text-gray-600 mb-2">{{ day }}</div>
        <textarea 
          placeholder="Add notes for {{ day }}..." 
          rows="2" 
          class="w-full border border-gray-300 rounded-md p-2 text-sm resize-none focus:ring-[#007bff] focus:border-[#007bff] focus:outline-none">
        </textarea>
      </div>
    </div>
  </div>

  <!-- Reflections Quick Access -->
  <div class="mt-8 bg-white rounded-lg shadow-sm p-4">
    <div class="text-lg font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2">Daily Reflections</div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4">
      <div *ngFor="let day of weekDays; let dayIndex = index" class="mb-4">
        <div class="font-medium text-gray-600 mb-2">{{ day }}</div>
        <textarea 
          placeholder="What did you learn today?" 
          rows="2" 
          class="w-full border border-gray-300 rounded-md p-2 text-sm resize-none focus:ring-[#007bff] focus:border-[#007bff] focus:outline-none">
        </textarea>
      </div>
    </div>
  </div>
</div>